/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/*!***************************!*\
  !*** ./src/background.ts ***!
  \***************************/
eval("\n// @ts-ignore\nchrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n    var method = request.method ? request.method.toUpperCase() : 'GET';\n    var headers = new Headers();\n    if (method === 'POST')\n        headers.append('Content-Type', 'application/x-www-form-urlencoded');\n    var config = {\n        method: method,\n        headers: headers,\n        mode: 'cors',\n        cache: 'default',\n    };\n    switch (request.action) {\n        case 'showIcon':\n            // @ts-ignore\n            chrome.pageAction.show(sender.tab.id);\n            return true;\n        case 'searchForProfessor':\n            fetch(request.url, config)\n                .then(function (res) { return res.text(); })\n                .then(function (pageText) {\n                var searchPage = document.createElement('html');\n                searchPage.innerHTML = pageText;\n                // const profId: HTMLElement = searchPage.querySelector('.listing.PROFESSOR');\n                var profId = searchPage.querySelector('.listing.PROFESSOR');\n                var ret = (profId) ?\n                    profId.getElementsByTagName('a')[0].getAttribute('href') :\n                    profId;\n                console.debug(ret);\n                sendResponse({ profId: ret });\n            })\n                .catch(function (err) {\n                console.debug('[ERROR: searchForProfessor]');\n                console.debug(err);\n                sendResponse();\n                return false;\n            });\n            return true;\n        case 'getOverallScore':\n            fetch(request.url, config)\n                .then(function (res) { return res.text(); })\n                .then(function (pageText) {\n                var ratingPage = document.createElement('html');\n                ratingPage.innerHTML = pageText;\n                var profRatingEle = ratingPage.querySelector('div.grade');\n                var profRating;\n                if (profRatingEle != null) {\n                    profRating = profRatingEle.textContent;\n                    sendResponse({ profRating: profRating });\n                }\n                else {\n                    console.debug('[ERROR: ratingPage.querySelector(div.grade) is null]');\n                    sendResponse();\n                }\n            })\n                .catch(function (err) {\n                console.debug('[ERROR: getOverallScore]');\n                console.debug(err);\n                sendResponse();\n                return false;\n            });\n            return true;\n        default:\n            console.debug(\"Action \" + request.action + \" not recognized\");\n            break;\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yYXRlbXljb3JuZWxscHJvZmVzc29yLy4vc3JjL2JhY2tncm91bmQudHM/MTJkMSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsYUFBYTtBQUNiLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsWUFBWTtJQUMvRCxJQUFNLE1BQU0sR0FBVyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDN0UsSUFBTSxPQUFPLEdBQVksSUFBSSxPQUFPLEVBQUUsQ0FBQztJQUN2QyxJQUFJLE1BQU0sS0FBSyxNQUFNO1FBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxjQUFjLEVBQUUsbUNBQW1DLENBQUMsQ0FBQztJQUMzRixJQUFNLE1BQU0sR0FBZ0I7UUFDMUIsTUFBTSxFQUFFLE1BQU07UUFDZCxPQUFPLEVBQUUsT0FBTztRQUNoQixJQUFJLEVBQUUsTUFBTTtRQUNaLEtBQUssRUFBRSxTQUFTO0tBQ2pCLENBQUM7SUFFRixRQUFRLE9BQU8sQ0FBQyxNQUFNLEVBQUU7UUFDdEIsS0FBSyxVQUFVO1lBQ2IsYUFBYTtZQUNiLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdEMsT0FBTyxJQUFJLENBQUM7UUFFZCxLQUFLLG9CQUFvQjtZQUN2QixLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUM7aUJBQ3ZCLElBQUksQ0FBQyxhQUFHLElBQUksVUFBRyxDQUFDLElBQUksRUFBRSxFQUFWLENBQVUsQ0FBQztpQkFDdkIsSUFBSSxDQUFDLGtCQUFRO2dCQUNaLElBQU0sVUFBVSxHQUFnQixRQUFRLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUMvRCxVQUFVLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztnQkFDaEMsOEVBQThFO2dCQUM5RSxJQUFNLE1BQU0sR0FBUSxVQUFVLENBQUMsYUFBYSxDQUFDLG9CQUFvQixDQUFDLENBQUM7Z0JBQ25FLElBQU0sR0FBRyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztvQkFDcEIsTUFBTSxDQUFDLG9CQUFvQixDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO29CQUMxRCxNQUFNLENBQUM7Z0JBQ1QsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDbkIsWUFBWSxDQUFDLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7WUFDaEMsQ0FBQyxDQUFDO2lCQUNELEtBQUssQ0FBQyxhQUFHO2dCQUNSLE9BQU8sQ0FBQyxLQUFLLENBQUMsNkJBQTZCLENBQUMsQ0FBQztnQkFDN0MsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDbkIsWUFBWSxFQUFFLENBQUM7Z0JBQ2YsT0FBTyxLQUFLLENBQUM7WUFDZixDQUFDLENBQUMsQ0FBQztZQUNMLE9BQU8sSUFBSSxDQUFDO1FBRWQsS0FBSyxpQkFBaUI7WUFDcEIsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDO2lCQUN2QixJQUFJLENBQUMsYUFBRyxJQUFJLFVBQUcsQ0FBQyxJQUFJLEVBQUUsRUFBVixDQUFVLENBQUM7aUJBQ3ZCLElBQUksQ0FBQyxrQkFBUTtnQkFDWixJQUFNLFVBQVUsR0FBZ0IsUUFBUSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDL0QsVUFBVSxDQUFDLFNBQVMsR0FBRyxRQUFRLENBQUM7Z0JBQ2hDLElBQU0sYUFBYSxHQUFRLFVBQVUsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQ2pFLElBQUksVUFBdUIsQ0FBQztnQkFDNUIsSUFBSSxhQUFhLElBQUksSUFBSSxFQUFFO29CQUN6QixVQUFVLEdBQUcsYUFBYSxDQUFDLFdBQVc7b0JBQ3RDLFlBQVksQ0FBQyxFQUFFLFVBQVUsY0FBRSxDQUFDLENBQUM7aUJBQzlCO3FCQUNJO29CQUNILE9BQU8sQ0FBQyxLQUFLLENBQUMsc0RBQXNELENBQUMsQ0FBQztvQkFDdEUsWUFBWSxFQUFFLENBQUM7aUJBQ2hCO1lBQ0gsQ0FBQyxDQUFDO2lCQUNELEtBQUssQ0FBQyxhQUFHO2dCQUNSLE9BQU8sQ0FBQyxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQztnQkFDMUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDbkIsWUFBWSxFQUFFLENBQUM7Z0JBQ2YsT0FBTyxLQUFLLENBQUM7WUFDZixDQUFDLENBQUM7WUFDSixPQUFPLElBQUksQ0FBQztRQUVkO1lBQ0UsT0FBTyxDQUFDLEtBQUssQ0FBQyxZQUFVLE9BQU8sQ0FBQyxNQUFNLG9CQUFpQixDQUFDLENBQUM7WUFDekQsTUFBTTtLQUNUO0FBQ0gsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoiLi9zcmMvYmFja2dyb3VuZC50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEB0cy1pZ25vcmVcbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigocmVxdWVzdCwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgICBjb25zdCBtZXRob2Q6IHN0cmluZyA9IHJlcXVlc3QubWV0aG9kID8gcmVxdWVzdC5tZXRob2QudG9VcHBlckNhc2UoKSA6ICdHRVQnO1xuICAgIGNvbnN0IGhlYWRlcnM6IEhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgIGlmIChtZXRob2QgPT09ICdQT1NUJykgaGVhZGVycy5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnKTtcbiAgICBjb25zdCBjb25maWc6IFJlcXVlc3RJbml0ID0ge1xuICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgY2FjaGU6ICdkZWZhdWx0JyxcbiAgICB9O1xuICBcbiAgICBzd2l0Y2ggKHJlcXVlc3QuYWN0aW9uKSB7XG4gICAgICBjYXNlICdzaG93SWNvbic6XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY2hyb21lLnBhZ2VBY3Rpb24uc2hvdyhzZW5kZXIudGFiLmlkKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gIFxuICAgICAgY2FzZSAnc2VhcmNoRm9yUHJvZmVzc29yJzpcbiAgICAgICAgZmV0Y2gocmVxdWVzdC51cmwsIGNvbmZpZylcbiAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLnRleHQoKSlcbiAgICAgICAgICAudGhlbihwYWdlVGV4dCA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hQYWdlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICAgICAgICAgIHNlYXJjaFBhZ2UuaW5uZXJIVE1MID0gcGFnZVRleHQ7XG4gICAgICAgICAgICAvLyBjb25zdCBwcm9mSWQ6IEhUTUxFbGVtZW50ID0gc2VhcmNoUGFnZS5xdWVyeVNlbGVjdG9yKCcubGlzdGluZy5QUk9GRVNTT1InKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2ZJZDogYW55ID0gc2VhcmNoUGFnZS5xdWVyeVNlbGVjdG9yKCcubGlzdGluZy5QUk9GRVNTT1InKTtcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IChwcm9mSWQpID9cbiAgICAgICAgICAgICAgcHJvZklkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhJylbMF0uZ2V0QXR0cmlidXRlKCdocmVmJykgOlxuICAgICAgICAgICAgICBwcm9mSWQ7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKHJldCk7XG4gICAgICAgICAgICBzZW5kUmVzcG9uc2UoeyBwcm9mSWQ6IHJldCB9KTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZygnW0VSUk9SOiBzZWFyY2hGb3JQcm9mZXNzb3JdJyk7XG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKGVycik7XG4gICAgICAgICAgICBzZW5kUmVzcG9uc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gIFxuICAgICAgY2FzZSAnZ2V0T3ZlcmFsbFNjb3JlJzpcbiAgICAgICAgZmV0Y2gocmVxdWVzdC51cmwsIGNvbmZpZylcbiAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLnRleHQoKSlcbiAgICAgICAgICAudGhlbihwYWdlVGV4dCA9PiB7XG4gICAgICAgICAgICBjb25zdCByYXRpbmdQYWdlOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2h0bWwnKTtcbiAgICAgICAgICAgIHJhdGluZ1BhZ2UuaW5uZXJIVE1MID0gcGFnZVRleHQ7XG4gICAgICAgICAgICBjb25zdCBwcm9mUmF0aW5nRWxlOiBhbnkgPSByYXRpbmdQYWdlLnF1ZXJ5U2VsZWN0b3IoJ2Rpdi5ncmFkZScpO1xuICAgICAgICAgICAgbGV0IHByb2ZSYXRpbmc6IEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKHByb2ZSYXRpbmdFbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBwcm9mUmF0aW5nID0gcHJvZlJhdGluZ0VsZS50ZXh0Q29udGVudFxuICAgICAgICAgICAgICBzZW5kUmVzcG9uc2UoeyBwcm9mUmF0aW5nIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1tFUlJPUjogcmF0aW5nUGFnZS5xdWVyeVNlbGVjdG9yKGRpdi5ncmFkZSkgaXMgbnVsbF0nKTtcbiAgICAgICAgICAgICAgc2VuZFJlc3BvbnNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1tFUlJPUjogZ2V0T3ZlcmFsbFNjb3JlXScpO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhlcnIpO1xuICAgICAgICAgICAgc2VuZFJlc3BvbnNlKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmRlYnVnKGBBY3Rpb24gJHtyZXF1ZXN0LmFjdGlvbn0gbm90IHJlY29nbml6ZWRgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/background.ts\n");
/******/ })()
;